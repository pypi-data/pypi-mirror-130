{% load static %}

<!DOCTYPE html>
<html lang="en">
<head>
  <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <script src="{% static 'popups/js/jquery-3.6.0.min.js' %}"></script>

  <link href='https://unpkg.com/boxicons@2.1.1/css/boxicons.min.css' rel='stylesheet'>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">

    <style>
    {% for popup in popups.all %}
      {% if popup.activate %}
      #popup_{{ popup.pk }} .modal-dialog .modal-body {
      background-size: cover;
      background-image: url({% static 'popups/img/'|add:popup.background|add:'.jpg' %});
      color: Black;
      }
      #popup_{{ popup.pk }} .modal-dialog .modal-body .container {
      padding: 100px 100px;
      }
      #popup_{{ popup.pk }} .modal-dialog .modal-body .container h4 {
      margin-bottom: 30px;
      }
      #popup_{{ popup.pk }} .modal-dialog .modal-body .container p {
      line-height: 1.8;
      }
      #popup_{{ popup.pk }} .modal-dialog .modal-footer a {
      text-decoration: none;
      color: #777777;
      display: inline-block;
      transition: 0.3s;
      line-height: 1;
      }
      #popup_{{ popup.pk }} .modal-dialog .modal-footer a:hover {
      text-decoration: none;
      color: #009970;
      }
      {% endif %}
    {% endfor %}
    </style>

    <title>Hello, world!</title>
</head>

<script>
    {% for popup in popups.all %}
      {% if popup.activate %}
      $(document).ready(function(){
          $("#popup_{{ popup.pk }}").modal('show');
      });
      {% endif %}
    {% endfor %}
</script>
<body>

<!-- Modal -->
{% for popup in popups.all %}
  {% if popup.activate %}
  <div class="modal fade" id="popup_{{ popup.pk }}" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1"
       aria-labelledby="staticBackdropLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg modal-dialog-centered">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="staticBackdropLabel">{{ popup.title }}</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <div class="container">
            <h4 class="text-center">{{ popup.subtitle }}</h4>
            <p class="text-center">{{ popup.description }}</p>
          </div>

        </div>
         <div class="modal-footer">
           <a href="{{ popup.url }}">자세히 보기</a>
        </div>
      </div>
    </div>
  </div>
  {% endif %}
{% endfor %}

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>

</body>
</html>