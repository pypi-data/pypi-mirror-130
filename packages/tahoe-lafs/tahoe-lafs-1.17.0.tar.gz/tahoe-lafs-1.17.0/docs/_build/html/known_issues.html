

<!DOCTYPE html>
<html class="writer-html4" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Known Issues &mdash; Tahoe-LAFS 1.x documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Contributing to Tahoe-LAFS" href="contributing.html" />
    <link rel="prev" title="Download status" href="frontends/download-status.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> Tahoe-LAFS
          

          
          </a>

          
            
            
              <div class="version">
                1.x
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="about-tahoe.html">Welcome to Tahoe-LAFS!</a></li>
<li class="toctree-l1"><a class="reference internal" href="Installation/install-tahoe.html">Installing Tahoe-LAFS</a></li>
<li class="toctree-l1"><a class="reference internal" href="Installation/install-on-windows.html">Building Tahoe-LAFS on Windows</a></li>
<li class="toctree-l1"><a class="reference internal" href="Installation/install-on-linux.html">Building Tahoe-LAFS on Linux</a></li>
<li class="toctree-l1"><a class="reference internal" href="Installation/install-on-desert-island.html">Building Tahoe-LAFS On A Desert Island</a></li>
<li class="toctree-l1"><a class="reference internal" href="running.html">How To Run Tahoe-LAFS</a></li>
<li class="toctree-l1"><a class="reference internal" href="magic-wormhole-invites.html">Magic Wormhole Invites</a></li>
<li class="toctree-l1"><a class="reference internal" href="configuration.html">Configuring a Tahoe-LAFS node</a></li>
<li class="toctree-l1"><a class="reference internal" href="architecture.html">Tahoe-LAFS Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="frontends/CLI.html">The Tahoe-LAFS CLI commands</a></li>
<li class="toctree-l1"><a class="reference internal" href="frontends/webapi.html">The Tahoe REST-ful Web API</a></li>
<li class="toctree-l1"><a class="reference internal" href="frontends/FTP-and-SFTP.html">Tahoe-LAFS SFTP Frontend</a></li>
<li class="toctree-l1"><a class="reference internal" href="frontends/download-status.html">Download status</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Known Issues</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#known-issues-in-tahoe-lafs-v1-10-3-released-30-mar-2016">Known Issues in Tahoe-LAFS v1.10.3, released 30-Mar-2016</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#unauthorized-access-by-javascript-in-unrelated-files">Unauthorized access by JavaScript in unrelated files</a></li>
<li class="toctree-l3"><a class="reference internal" href="#disclosure-of-file-through-embedded-hyperlinks-or-javascript-in-that-file">Disclosure of file through embedded hyperlinks or JavaScript in that file</a></li>
<li class="toctree-l3"><a class="reference internal" href="#command-line-arguments-are-leaked-to-other-local-users">Command-line arguments are leaked to other local users</a></li>
<li class="toctree-l3"><a class="reference internal" href="#capabilities-may-be-leaked-to-web-browser-phishing-filter-safe-browsing-servers">Capabilities may be leaked to web browser phishing filter / “safe browsing” servers</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#to-disable-the-filter-in-ie7-or-ie8">To disable the filter in IE7 or IE8:</a></li>
<li class="toctree-l4"><a class="reference internal" href="#to-disable-the-filter-in-firefox">To disable the filter in Firefox:</a></li>
<li class="toctree-l4"><a class="reference internal" href="#to-disable-the-filter-in-chrome">To disable the filter in Chrome:</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#known-issues-in-the-sftp-frontend">Known issues in the SFTP frontend</a></li>
<li class="toctree-l3"><a class="reference internal" href="#traffic-analysis-based-on-sizes-of-files-directories-storage-indices-and-timing">Traffic analysis based on sizes of files/directories, storage indices, and timing</a></li>
<li class="toctree-l3"><a class="reference internal" href="#privacy-leak-via-google-chart-api-link-in-map-update-timing-web-page">Privacy leak via Google Chart API link in map-update timing web page</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#known-issues-in-tahoe-lafs-v1-9-0-released-31-oct-2011">Known Issues in Tahoe-LAFS v1.9.0, released 31-Oct-2011</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#integrity-failure-during-mutable-downloads">Integrity Failure during Mutable Downloads</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#known-issues-in-tahoe-lafs-v1-8-2-released-30-jan-2011">Known Issues in Tahoe-LAFS v1.8.2, released 30-Jan-2011</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#unauthorized-deletion-of-an-immutable-file-by-its-storage-index">Unauthorized deletion of an immutable file by its storage index</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="contributing.html">Contributing to Tahoe-LAFS</a></li>
<li class="toctree-l1"><a class="reference internal" href="CODE_OF_CONDUCT.html">Contributor Code of Conduct</a></li>
<li class="toctree-l1"><a class="reference internal" href="release-checklist.html">Release Checklist</a></li>
<li class="toctree-l1"><a class="reference internal" href="servers.html">How To Configure A Server</a></li>
<li class="toctree-l1"><a class="reference internal" href="helper.html">The Tahoe Upload Helper</a></li>
<li class="toctree-l1"><a class="reference internal" href="convergence-secret.html">The Convergence Secret</a></li>
<li class="toctree-l1"><a class="reference internal" href="garbage-collection.html">Garbage Collection in Tahoe</a></li>
<li class="toctree-l1"><a class="reference internal" href="backdoors.html">Statement on Backdoors</a></li>
<li class="toctree-l1"><a class="reference internal" href="donations.html">Donations</a></li>
<li class="toctree-l1"><a class="reference internal" href="accepting-donations.html">Storage Server Donations</a></li>
<li class="toctree-l1"><a class="reference internal" href="expenses.html">Expenses paid by donated BTC</a></li>
<li class="toctree-l1"><a class="reference internal" href="cautions.html">Things To Be Careful About As We Venture Boldly Forth</a></li>
<li class="toctree-l1"><a class="reference internal" href="write_coordination.html">Avoiding Write Collisions in Tahoe</a></li>
<li class="toctree-l1"><a class="reference internal" href="backupdb.html">The Tahoe BackupDB</a></li>
<li class="toctree-l1"><a class="reference internal" href="developer-guide.html">Developer Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="ticket-triage.html">Ticket Triage</a></li>
<li class="toctree-l1"><a class="reference internal" href="anonymity-configuration.html">Using Tahoe-LAFS with an anonymizing network: Tor, I2P</a></li>
<li class="toctree-l1"><a class="reference internal" href="nodekeys.html">Node Keys in Tahoe-LAFS</a></li>
<li class="toctree-l1"><a class="reference internal" href="performance.html">Performance costs for some common operations</a></li>
<li class="toctree-l1"><a class="reference internal" href="logging.html">Tahoe Logging</a></li>
<li class="toctree-l1"><a class="reference internal" href="stats.html">Tahoe Statistics</a></li>
<li class="toctree-l1"><a class="reference internal" href="debian.html">Debian and Ubuntu Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="build/build-pyOpenSSL.html">Building pyOpenSSL on Windows</a></li>
<li class="toctree-l1"><a class="reference internal" href="specifications/index.html">Specifications</a></li>
<li class="toctree-l1"><a class="reference internal" href="proposed/index.html">Proposed Specifications</a></li>
<li class="toctree-l1"><a class="reference internal" href="filesystem-notes.html">Filesystem-specific notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="historical/configuration.html">Old Configuration Files</a></li>
<li class="toctree-l1"><a class="reference internal" href="key-value-store.html">Using Tahoe as a key-value store</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Tahoe-LAFS</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Known Issues</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/known_issues.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <p>See also <a class="reference internal" href="cautions.html"><span class="doc">cautions.rst</span></a>.</p>
<div class="section" id="known-issues">
<h1>Known Issues<a class="headerlink" href="#known-issues" title="Permalink to this headline">¶</a></h1>
<p>Below is a list of known issues in recent releases of Tahoe-LAFS, and how to
manage them.  The current version of this file can be found at
<a class="reference external" href="https://github.com/tahoe-lafs/tahoe-lafs/blob/master/docs/known_issues.rst">https://github.com/tahoe-lafs/tahoe-lafs/blob/master/docs/known_issues.rst</a> .</p>
<p>If you’ve been using Tahoe-LAFS since v1.1 (released 2008-06-11) or if you’re
just curious about what sort of mistakes we’ve made in the past, then you
might want to read the “historical known issues” document in
<code class="docutils literal notranslate"><span class="pre">docs/historical/historical_known_issues.txt</span></code>.</p>
<div class="section" id="known-issues-in-tahoe-lafs-v1-10-3-released-30-mar-2016">
<h2>Known Issues in Tahoe-LAFS v1.10.3, released 30-Mar-2016<a class="headerlink" href="#known-issues-in-tahoe-lafs-v1-10-3-released-30-mar-2016" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><ul class="simple">
<li><a class="reference internal" href="#unauthorized-access-by-javascript-in-unrelated-files">Unauthorized access by JavaScript in unrelated files</a></li>
<li><a class="reference internal" href="#disclosure-of-file-through-embedded-hyperlinks-or-javascript-in-that-file">Disclosure of file through embedded hyperlinks or JavaScript in that file</a></li>
<li><a class="reference internal" href="#command-line-arguments-are-leaked-to-other-local-users">Command-line arguments are leaked to other local users</a></li>
<li><a class="reference internal" href="#capabilities-may-be-leaked-to-web-browser-phishing-filter-safe-browsing-servers">Capabilities may be leaked to web browser phishing filter / “safe browsing” servers</a></li>
<li><a class="reference internal" href="#known-issues-in-the-sftp-frontend">Known issues in the SFTP frontend</a></li>
<li><a class="reference internal" href="#traffic-analysis-based-on-sizes-of-files-directories-storage-indices-and-timing">Traffic analysis based on sizes of files/directories, storage indices, and timing</a></li>
<li><a class="reference internal" href="#privacy-leak-via-google-chart-api-link-in-map-update-timing-web-page">Privacy leak via Google Chart API link in map-update timing web page</a></li>
</ul>
</div></blockquote>
<hr class="docutils" />
<div class="section" id="unauthorized-access-by-javascript-in-unrelated-files">
<h3>Unauthorized access by JavaScript in unrelated files<a class="headerlink" href="#unauthorized-access-by-javascript-in-unrelated-files" title="Permalink to this headline">¶</a></h3>
<p>If you view a file stored in Tahoe-LAFS through a web user interface,
JavaScript embedded in that file can, in some circumstances, access other
files or directories stored in Tahoe-LAFS that you view through the same
web user interface.  Such a script would be able to send the contents of
those other files or directories to the author of the script, and if you
have the ability to modify the contents of those files or directories,
then that script could modify or delete those files or directories.</p>
<p>This attack is known to be possible when an attacking tab or window could
reach a tab or window containing a Tahoe URI by navigating back or forward
in the history, either from itself or from any frame with a known name (as
specified by the “target” attribute of an HTML link). It might be possible
in other cases depending on the browser.</p>
<p><em>how to manage it</em></p>
<p>For future versions of Tahoe-LAFS, we are considering ways to close off
this leakage of authority while preserving ease of use – the discussion
of this issue is ticket <a class="reference external" href="https://tahoe-lafs.org/trac/tahoe-lafs/ticket/615">#615</a>.</p>
<p>For the present, either do not view files stored in Tahoe-LAFS through a
web user interface, or turn off JavaScript in your web browser before
doing so, or limit your viewing to files which you know don’t contain
malicious JavaScript.</p>
</div>
<hr class="docutils" />
<div class="section" id="disclosure-of-file-through-embedded-hyperlinks-or-javascript-in-that-file">
<h3>Disclosure of file through embedded hyperlinks or JavaScript in that file<a class="headerlink" href="#disclosure-of-file-through-embedded-hyperlinks-or-javascript-in-that-file" title="Permalink to this headline">¶</a></h3>
<p>If there is a file stored on a Tahoe-LAFS storage grid, and that file
gets downloaded and displayed in a web browser, then JavaScript or
hyperlinks within that file can leak the capability to that file to a
third party, which means that third party gets access to the file.</p>
<p>If there is JavaScript in the file, then it could deliberately leak
the capability to the file out to some remote listener.</p>
<p>If there are hyperlinks in the file, and they get followed, then
whichever server they point to receives the capability to the
file. Note that IMG tags are typically followed automatically by web
browsers, so being careful which hyperlinks you click on is not
sufficient to prevent this from happening.</p>
<p><em>how to manage it</em></p>
<p>For future versions of Tahoe-LAFS, we are considering ways to close off
this leakage of authority while preserving ease of use – the discussion
of this issue is ticket <a class="reference external" href="https://tahoe-lafs.org/trac/tahoe-lafs/ticket/127">#127</a>.</p>
<p>For the present, a good work-around is that if you want to store and
view a file on Tahoe-LAFS and you want that file to remain private, then
remove from that file any hyperlinks pointing to other people’s servers
and remove any JavaScript unless you are sure that the JavaScript is not
written to maliciously leak access.</p>
</div>
<hr class="docutils" />
<div class="section" id="command-line-arguments-are-leaked-to-other-local-users">
<h3>Command-line arguments are leaked to other local users<a class="headerlink" href="#command-line-arguments-are-leaked-to-other-local-users" title="Permalink to this headline">¶</a></h3>
<p>Remember that command-line arguments are visible to other users (through
the ‘ps’ command, or the windows Process Explorer tool), so if you are
using a Tahoe-LAFS node on a shared host, other users on that host will
be able to see (and copy) any caps that you pass as command-line
arguments.  This includes directory caps that you set up with the “tahoe
add-alias” command.</p>
<p><em>how to manage it</em></p>
<p>As of Tahoe-LAFS v1.3.0 there is a “tahoe create-alias” command that does
the following technique for you.</p>
<p>Bypass add-alias and edit the NODEDIR/private/aliases file directly, by
adding a line like this:</p>
<blockquote>
<div>fun: URI:DIR2:ovjy4yhylqlfoqg2vcze36dhde:4d4f47qko2xm5g7osgo2yyidi5m4muyo2vjjy53q4vjju2u55mfa</div></blockquote>
<p>By entering the dircap through the editor, the command-line arguments
are bypassed, and other users will not be able to see them. Once you’ve
added the alias, if you use that alias instead of a cap itself on the
command-line, then no secrets are passed through the command line.  Then
other processes on the system can still see your filenames and other
arguments you type there, but not the caps that Tahoe-LAFS uses to permit
access to your files and directories.</p>
</div>
<hr class="docutils" />
<div class="section" id="capabilities-may-be-leaked-to-web-browser-phishing-filter-safe-browsing-servers">
<h3>Capabilities may be leaked to web browser phishing filter / “safe browsing” servers<a class="headerlink" href="#capabilities-may-be-leaked-to-web-browser-phishing-filter-safe-browsing-servers" title="Permalink to this headline">¶</a></h3>
<p>Firefox, Internet Explorer, and Chrome include a “phishing filter” or
“safe browing” component, which is turned on by default, and which sends
any URLs that it deems suspicious to a central server.</p>
<p>Microsoft gives <a class="reference external" href="https://blogs.msdn.com/ie/archive/2005/09/09/463204.aspx">a brief description of their filter’s operation</a>. Firefox
and Chrome both use Google’s <a class="reference external" href="https://code.google.com/apis/safebrowsing/">“safe browsing API”</a> (<a class="reference external" href="https://code.google.com/p/google-safe-browsing/wiki/Protocolv2Spec">specification</a>).</p>
<p>This of course has implications for the privacy of general web browsing
(especially in the cases of Firefox and Chrome, which send your main
personally identifying Google cookie along with these requests without your
explicit consent, as described in <a class="reference external" href="https://bugzilla.mozilla.org/show_bug.cgi?id=368255">Firefox bugzilla ticket #368255</a>.</p>
<p>The reason for documenting this issue here, though, is that when using the
Tahoe-LAFS web user interface, it could also affect confidentiality and integrity
by leaking capabilities to the filter server.</p>
<p>Since IE’s filter sends URLs by SSL/TLS, the exposure of caps is limited to
the filter server operators (or anyone able to hack the filter server) rather
than to network eavesdroppers. The “safe browsing API” protocol used by
Firefox and Chrome, on the other hand, is <em>not</em> encrypted, although the
URL components are normally hashed.</p>
<p>Opera also has a similar facility that is disabled by default. A previous
version of this file stated that Firefox had abandoned their phishing
filter; this was incorrect.</p>
<p><em>how to manage it</em></p>
<p>If you use any phishing filter or “safe browsing” feature, consider either
disabling it, or not using the WUI via that browser. Phishing filters have
<a class="reference external" href="http://lorrie.cranor.org/pubs/ndss-phish-tools-final.pdf">very limited effectiveness</a> , and phishing or malware attackers have learnt
how to bypass them.</p>
<div class="section" id="to-disable-the-filter-in-ie7-or-ie8">
<h4>To disable the filter in IE7 or IE8:<a class="headerlink" href="#to-disable-the-filter-in-ie7-or-ie8" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>Click Internet Options from the Tools menu.</li>
<li>Click the Advanced tab.</li>
<li>If an “Enable SmartScreen Filter” option is present, uncheck it.
If a “Use Phishing Filter” or “Phishing Filter” option is present,
set it to Disable.</li>
<li>Confirm (click OK or Yes) out of all dialogs.</li>
</ul>
<p>If you have a version of IE that splits the settings between security
zones, do this for all zones.</p>
</div>
<div class="section" id="to-disable-the-filter-in-firefox">
<h4>To disable the filter in Firefox:<a class="headerlink" href="#to-disable-the-filter-in-firefox" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>Click Options from the Tools menu.</li>
<li>Click the Security tab.</li>
<li>Uncheck both the “Block reported attack sites” and “Block reported
web forgeries” options.</li>
<li>Click OK.</li>
</ul>
</div>
<div class="section" id="to-disable-the-filter-in-chrome">
<h4>To disable the filter in Chrome:<a class="headerlink" href="#to-disable-the-filter-in-chrome" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>Click Options from the Tools menu.</li>
<li>Click the “Under the Hood” tab and find the “Privacy” section.</li>
<li>Uncheck the “Enable phishing and malware protection” option.</li>
<li>Click Close.</li>
</ul>
</div>
</div>
<hr class="docutils" />
<div class="section" id="known-issues-in-the-sftp-frontend">
<h3>Known issues in the SFTP frontend<a class="headerlink" href="#known-issues-in-the-sftp-frontend" title="Permalink to this headline">¶</a></h3>
<p>These are documented in <a class="reference internal" href="frontends/FTP-and-SFTP.html"><span class="doc">Tahoe-LAFS SFTP Frontend</span></a> and on <a class="reference external" href="https://tahoe-lafs.org/trac/tahoe-lafs/wiki/SftpFrontend">the
SftpFrontend page</a> on the wiki.</p>
</div>
<hr class="docutils" />
<div class="section" id="traffic-analysis-based-on-sizes-of-files-directories-storage-indices-and-timing">
<h3>Traffic analysis based on sizes of files/directories, storage indices, and timing<a class="headerlink" href="#traffic-analysis-based-on-sizes-of-files-directories-storage-indices-and-timing" title="Permalink to this headline">¶</a></h3>
<p>Files and directories stored by Tahoe-LAFS are encrypted, but the ciphertext
reveals the exact size of the original file or directory representation.
This information is available to passive eavesdroppers and to server operators.</p>
<p>For example, a large data set with known file sizes could probably be
identified with a high degree of confidence.</p>
<p>Uploads and downloads of the same file or directory can be linked by server
operators, even without making assumptions based on file size. Anyone who
knows the introducer furl for a grid may be able to act as a server operator.
This implies that if such an attacker knows which file/directory is being
accessed in a particular request (by some other form of surveillance, say),
then they can identify later or earlier accesses of the same file/directory.</p>
<p>Observing requests during a directory traversal (such as a deep-check
operation) could reveal information about the directory structure, i.e.
which files and subdirectories are linked from a given directory.</p>
<p>Attackers can combine the above information with inferences based on timing
correlations. For instance, two files that are accessed close together in
time are likely to be related even if they are not linked in the directory
structure. Also, users that access the same files may be related to each other.</p>
</div>
<hr class="docutils" />
<div class="section" id="privacy-leak-via-google-chart-api-link-in-map-update-timing-web-page">
<h3>Privacy leak via Google Chart API link in map-update timing web page<a class="headerlink" href="#privacy-leak-via-google-chart-api-link-in-map-update-timing-web-page" title="Permalink to this headline">¶</a></h3>
<p>The Tahoe web-based user interface includes a diagnostic page known as the
“map-update timing page”. It is reached through the “Recent and Active
Operations” link on the front welcome page, then through the “Status” column
for “map-update” operations (which occur when mutable files, including
directories, are read or written). This page contains per-server response
times, as lines of text, and includes an image which displays the response
times in graphical form. The image is generated by constructing a URL for
the <a class="reference external" href="https://developers.google.com/chart/image/">Google Chart API</a>, which is then served by the <cite>chart.apis.google.com</cite>
internet server.</p>
<p>When you view this page, several parties may learn information about your
Tahoe activities. The request will typically include a “Referer” header,
revealing the URL of the mapupdate status page (which is typically something
like “<a class="reference external" href="http://127.0.0.1:3456/status/mapupdate-123">http://127.0.0.1:3456/status/mapupdate-123</a>”) to network observers and
the Google API server. The image returned by this server is typically a PNG
file, but either the server or a MitM attacker could replace it with
something malicious that attempts to exploit a browser rendering bug or
buffer overflow. (Note that browsers do not execute scripts inside IMG tags,
even for SVG images).</p>
<p>In addition, if your Tahoe node connects to its grid over Tor or i2p, but the
web browser you use to access your node does not, then this image link may
reveal your use of Tahoe (and that grid) to the outside world. It is not
recommended to use a browser in this way, because other links in Tahoe-stored
content would reveal even more information (e.g. an attacker could store an
HTML file with unique CSS references into a shared Tahoe grid, then send your
pseudonym a message with its URI, then observe your browser loading that CSS
file, and thus link the source IP address of your web client to that
pseudonym).</p>
<p>A future version of Tahoe will probably replace the Google Chart API link
(which was deprecated by Google in April 2012) with client-side javascript
using d3.js, removing the information leak but requiring JS to see the chart.
See ticket <a class="reference external" href="https://tahoe-lafs.org/trac/tahoe-lafs/ticket/1942">#1942</a> for details.</p>
</div>
</div>
<hr class="docutils" />
<div class="section" id="known-issues-in-tahoe-lafs-v1-9-0-released-31-oct-2011">
<h2>Known Issues in Tahoe-LAFS v1.9.0, released 31-Oct-2011<a class="headerlink" href="#known-issues-in-tahoe-lafs-v1-9-0-released-31-oct-2011" title="Permalink to this headline">¶</a></h2>
<div class="section" id="integrity-failure-during-mutable-downloads">
<h3>Integrity Failure during Mutable Downloads<a class="headerlink" href="#integrity-failure-during-mutable-downloads" title="Permalink to this headline">¶</a></h3>
<p>Under certain circumstances, the integrity-verification code of the mutable
downloader could be bypassed. Clients who receive carefully crafted shares
(from attackers) will emit incorrect file contents, and the usual
share-corruption errors would not be raised. This only affects mutable files
(not immutable), and only affects downloads that use doctored shares. It is
not persistent: the threat is resolved once you upgrade your client to a
version without the bug. However, read-modify-write operations (such as
directory manipulations) performed by vulnerable clients could cause the
attacker’s modifications to be written back out to the mutable file, making
the corruption permanent.</p>
<p>The attacker’s ability to manipulate the file contents is limited. They can
modify FEC-encoded ciphertext in all but one share. This gives them the
ability to blindly flip bits in roughly 2/3rds of the file (for the default
k=3 encoding parameter). Confidentiality remains intact, unless the attacker
can deduce the file’s contents by observing your reactions to corrupted
downloads.</p>
<p>This bug was introduced in 1.9.0, as part of the MDMF-capable downloader, and
affects both SDMF and MDMF files. It was not present in 1.8.3.</p>
<p><em>how to manage it</em></p>
<p>There are three options:</p>
<ul class="simple">
<li>Upgrade to 1.9.1, which fixes the bug</li>
<li>Downgrade to 1.8.3, which does not contain the bug</li>
<li>If using 1.9.0, do not trust the contents of mutable files (whether SDMF or
MDMF) that the 1.9.0 client emits, and do not modify directories (which
could write the corrupted data back into place, making the damage
persistent)</li>
</ul>
</div>
</div>
<hr class="docutils" />
<div class="section" id="known-issues-in-tahoe-lafs-v1-8-2-released-30-jan-2011">
<h2>Known Issues in Tahoe-LAFS v1.8.2, released 30-Jan-2011<a class="headerlink" href="#known-issues-in-tahoe-lafs-v1-8-2-released-30-jan-2011" title="Permalink to this headline">¶</a></h2>
<div class="section" id="unauthorized-deletion-of-an-immutable-file-by-its-storage-index">
<h3>Unauthorized deletion of an immutable file by its storage index<a class="headerlink" href="#unauthorized-deletion-of-an-immutable-file-by-its-storage-index" title="Permalink to this headline">¶</a></h3>
<p>Due to a flaw in the Tahoe-LAFS storage server software in v1.3.0 through
v1.8.2, a person who knows the “storage index” that identifies an immutable
file can cause the server to delete its shares of that file.</p>
<p>If an attacker can cause enough shares to be deleted from enough storage
servers, this deletes the file.</p>
<p>This vulnerability does not enable anyone to read file contents without
authorization (confidentiality), nor to change the contents of a file
(integrity).</p>
<p>A person could learn the storage index of a file in several ways:</p>
<ol class="arabic simple">
<li>By being granted the authority to read the immutable file: i.e. by being
granted a read capability to the file. They can determine the file’s
storage index from its read capability.</li>
<li>By being granted a verify capability to the file. They can determine the
file’s storage index from its verify capability. This case probably
doesn’t happen often because users typically don’t share verify caps.</li>
<li>By operating a storage server, and receiving a request from a client that
has a read cap or a verify cap. If the client attempts to upload,
download, or verify the file with their storage server, even if it doesn’t
actually have the file, then they can learn the storage index of the file.</li>
<li>By gaining read access to an existing storage server’s local filesystem,
and inspecting the directory structure that it stores its shares in. They
can thus learn the storage indexes of all files that the server is holding
at least one share of. Normally only the operator of an existing storage
server would be able to inspect its local filesystem, so this requires
either being such an operator of an existing storage server, or somehow
gaining the ability to inspect the local filesystem of an existing storage
server.</li>
</ol>
<p><em>how to manage it</em></p>
<p>Tahoe-LAFS version v1.8.3 or newer (except v1.9a1) no longer has this flaw;
if you upgrade a storage server to a fixed release then that server is no
longer vulnerable to this problem.</p>
<p>Note that the issue is local to each storage server independently of other
storage servers: when you upgrade a storage server then that particular
storage server can no longer be tricked into deleting its shares of the
target file.</p>
<p>If you can’t immediately upgrade your storage server to a version of
Tahoe-LAFS that eliminates this vulnerability, then you could temporarily
shut down your storage server. This would of course negatively impact
availability – clients would not be able to upload or download shares to
that particular storage server while it was shut down – but it would protect
the shares already stored on that server from being deleted as long as the
server is shut down.</p>
<p>If the servers that store shares of your file are running a version of
Tahoe-LAFS with this vulnerability, then you should think about whether
someone can learn the storage indexes of your files by one of the methods
described above. A person can not exploit this vulnerability unless they have
received a read cap or verify cap, or they control a storage server that has
been queried about this file by a client that has a read cap or a verify cap.</p>
<p>Tahoe-LAFS does not currently have a mechanism to limit which storage servers
can connect to your grid, but it does have a way to see which storage servers
have been connected to the grid. The Introducer’s front page in the Web User
Interface has a list of all storage servers that the Introducer has ever seen
and the first time and the most recent time that it saw them. Each Tahoe-LAFS
gateway maintains a similar list on its front page in its Web User Interface,
showing all of the storage servers that it learned about from the Introducer,
when it first connected to that storage server, and when it most recently
connected to that storage server. These lists are stored in memory and are
reset to empty when the process is restarted.</p>
<p>See ticket <a class="reference external" href="https://tahoe-lafs.org/trac/tahoe-lafs/ticket/1528">#1528</a> for technical details.</p>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="contributing.html" class="btn btn-neutral float-right" title="Contributing to Tahoe-LAFS" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="frontends/download-status.html" class="btn btn-neutral float-left" title="Download status" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2016, The Tahoe-LAFS Developers.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>