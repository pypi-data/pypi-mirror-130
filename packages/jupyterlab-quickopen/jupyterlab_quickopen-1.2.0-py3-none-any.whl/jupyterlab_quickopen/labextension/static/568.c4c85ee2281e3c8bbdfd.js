"use strict";(self.webpackChunk_parente_jupyterlab_quickopen=self.webpackChunk_parente_jupyterlab_quickopen||[]).push([[568],{568:(e,t,n)=>{n.r(t),n.d(t,{default:()=>g});var a=n(539),s=n(215),o=n(451),i=n(26),c=n(978),r=n(233),l=n(528),d=n(968),p=n(168),m=n(706);class u extends m.CommandPalette{constructor(e,t,n){super(n),this._pathSelected=new p.Signal(this),this.id="jupyterlab-quickopen",this.title.iconClass="jp-SideBar-tabIcon jp-SearchIcon",this.title.caption="Quick Open",this._settings=t,this._fileBrowser=e.defaultBrowser}get pathSelected(){return this._pathSelected}set settings(e){this._settings=e}async onActivateRequest(e){super.onActivateRequest(e);const t=this._settings.relativeSearch?this._fileBrowser.model.path:"",n=await async function(e,t){const n=t.map((e=>"excludes="+encodeURIComponent(e))).join("&"),a=c.ServerConnection.makeSettings(),s=o.URLExt.join(a.baseUrl,"jupyterlab-quickopen","api","files")+"?"+n+"&path="+e,i=await c.ServerConnection.makeRequest(s,{method:"GET"},a);if(200!==i.status)throw new c.ServerConnection.ResponseError(i);return await i.json()}(t,this._settings.excludes);this.clearItems();for(const e in n.contents)for(const t of n.contents[e]){const n=`${e}/${t}`;this.commands.hasCommand(n)||this.commands.addCommand(n,{label:t,execute:()=>{this._pathSelected.emit(n)}}),this.addItem({command:n,category:e})}}}const h={id:"@parente/jupyterlab-quickopen:plugin",autoStart:!0,requires:[s.ICommandPalette,i.IDocumentManager,a.ILabShell,r.ISettingRegistry,l.IFileBrowserFactory],activate:async(e,t,n,a,s,i)=>{console.log(`Activated extension: ${h.id}`);const c=new d.CommandRegistry,r=await s.load(h.id),l=new u(i,r.composite,{commands:c});l.pathSelected.connect(((e,t)=>{a.collapseLeft(),n.openOrReveal(o.PathExt.normalize(t))})),r.changed.connect((e=>{l.settings=e.composite}));const p="quickopen:activate";e.commands.addCommand(p,{label:"Quick Open",execute:()=>{a.activateById(l.id)}}),t.addItem({command:p,category:"File Operations"}),a.add(l,"left",{rank:1e3})}},g=h}}]);