# coding: utf8
import base64
try:
    from pgmagick import Blob, Image
except:
    Blob, Image = None, None
from .resize import resize_image
from .utils import get_image_type, get_im_size


def get_raw_image_content():
    b64_content = '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'
    raw_content = base64.b64decode(b64_content)
    return raw_content

def get_demo_im():
    raw_content = get_raw_image_content()
    im = Image(Blob(raw_content))
    return im



def test_image_functions():
    raw_image_content = get_raw_image_content()
    print('original size',len(raw_image_content))
    print('image_type is ', get_image_type(raw_image_content))

    im = get_demo_im()
    print('image size is', get_im_size(im))

    for image_type in ['jpg', 'webp', 'png']:
        resized_image_content = resize_image(im, width=600, height=600, image_type=image_type)
        print(image_type, len(resized_image_content))

    im_data = resize_image(im, width=600, height=600, image_type='jpg')
    new_im = Image(Blob(im_data))
    resized_image_content = resize_image(new_im, width=600, height=600, image_type='webp')
    new_webp_im = Image(Blob(resized_image_content))
    print('->jpg->webp size', get_im_size(new_webp_im))
    print('->jpg->webp size', len(resized_image_content))


    resized_image_content = resize_image(im, width=60, height=60, image_type=image_type)
    resized_image = Image(Blob(resized_image_content))
    print('resized image size is', get_im_size(resized_image))